require("../../common/manifest.js");
require("../../common/vendor.js");
global.webpackJsonp([2],{146:function(t,e,i){"use strict";var a=n(i(4)),s=n(i(147));function n(t){return t&&t.__esModule?t:{default:t}}Page((0,a.default)(s.default))},147:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=i(149),s=i.n(a),n=i(155),o=!1;var l=function(t){o||i(148)},r=i(0)(s.a,n.a,l,null,null);r.options.__file="..\\..\\..\\..\\用户目录\\我的文档\\HBuilderProjects\\ysv8\\pages\\myweb\\e.vue",r.esModule&&Object.keys(r.esModule).some(function(t){return"default"!==t&&"__"!==t.substr(0,2)})&&console.error("named exports are not supported in *.vue files."),r.options.functional&&console.error("[vue-loader] e.vue: functional components are not supported with templates, they should use render functions."),e.default=r.exports},148:function(t,e){},149:function(t,e,i){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0});var a=f(i(2)),s=f(i(150)),n=f(i(16)),o=f(i(17)),l=f(i(151)),r=f(i(8)),c=f(i(18)),u=f(i(19)),d=f(i(20));function f(t){return t&&t.__esModule?t:{default:t}}e.default={components:{mediaList:l.default,uniLoadMore:r.default,postdiv:c.default,wxParse:d.default,filelist:n.default,vdown:o.default},data:function(){return{title:a.default.title,favstart:!1,banner:{},id:0,pid:0,vs:"",showImg:!0,thread:[{uid:0}],bucketcdn:a.default.bucketcdn,bannerShow:!1,htmlString:"",postlist:[],cid:0,pagtime:0,loadingType:0,website:a.default.website,www:a.default.www,ebook:!1,contentText:{contentdown:"上拉显示更多",contentrefresh:"正在加载...",contentnomore:"没有更多数据了"},mask:s.default,files:[],active:"blog"}},onReachBottom:function(){if(0===this.loadingType){this.loadingType=1,this.ajaxi++;var e=this;t.request({url:"https://iimg.44api.com/ebook/l/"+this.id+"/"+this.pagtime+".api",success:function(t){var i=t.data,s=a.default.setdata_ebook(i.data,"down",e.postlist,e.pagtime);1==a.default.isArray(s)&&(e.postlist=s[0],e.pagtime=s[1]),setTimeout(function(){s[2]<10?e.loadingType=2:e.loadingType=0},500)},fail:function(e){t.showModal({content:e.errMsg,showCancel:!1})},complete:function(){}})}},onShareAppMessage:function(){return{title:this.title,path:"/pages/myweb/e?id="+this.id}},onLoad:function(e){e.website&&(this.website=e.website),this.www="https://"+this.website+".ysv8.com/",e.id?this.id=e.id:t.showModal({title:"错误",content:"错误内容",showCancel:!1,confirmText:"确定"}),this.getDetail()},onBackPress:function(){if(this.bannerShow)return this.bannerShow=!1,!0},methods:{home:function(t){this.ebook=!1},next:function(){this.goDetail(Number(this.cid)+1)},pre:function(){this.goDetail(Number(this.cid)-1)},goDetail:function(e){var i=this;if(t.pageScrollTo({scrollTop:0}),this.ebook=a.default.get_id(this.postlist,e),!this.ebook)return!1;this.setNaivgationBarTitle(this.ebook.title),this.cid=e,t.request({url:"https://iimg.44api.com/hash/"+this.ebook.pid+".js",success:function(t){var e=t.data;i.htmlString=(0,u.default)(e.content.replace(/data-original/g,"src"))}})},gonav2:function(e){this.rightDrawerVisible=!1,t.navigateTo({url:e})},videoErrorCallback:function(e){t.showModal({content:e.target.errMsg,showCancel:!1})},timestr:function(t){return a.default.timeStamp2String(t)},autotext:function(t){return a.default.langfun(t)},setNaivgationBarTitle:function(e){this.title=e,t.setNavigationBarTitle({title:e,success:function(){console.log("setNavigationBarTitle success")},fail:function(t){console.log("setNavigationBarTitle fail, err is",t)}})},getDetail:function(){var e=this,i=this;t.request({url:"https://iimg.44api.com/ebook/l/"+this.id+".api",success:function(n){var o=n.data;if("200"!=o.code)return t.showModal({content:o.info,showCancel:!1,success:function(e){t.navigateBack()}}),!1;i.thread=o.edata,s.default.datalook=s.default.add_array(o.edata,s.default.datalook,!1)[0],a.default.localStorage.setItem("datalook"+s.default.apiid,JSON.stringify(s.default.datalook)),e.favstart=a.default.in_array(o.edata.id,s.default.datafav);var l=a.default.setdata_ebook(o.data,"down",[],i.pagtime);1==a.default.isArray(l)&&(i.postlist=l[0],i.pagtime=l[1]),setTimeout(function(){l[2]<10?i.loadingType=2:i.loadingType=0},500)},fail:function(e){console.log("request fail",e),t.showModal({content:e.errMsg,showCancel:!1})},complete:function(){}})}}}}).call(e,i(1).default)},150:function(t,e,i){"use strict";(function(e){if(void 0===i)var i={getItem:function(t){return e.getStorageSync(t)},setItem:function(t,i){e.setStorage({key:t,data:i})}};var a,s=[],n=[],o=[];(a=i.getItem("datalooke"))&&(s=JSON.parse(a)),(a=i.getItem("datafave"))&&(n=JSON.parse(a)),(a=i.getItem("datacome"))&&(o=JSON.parse(a)),t.exports={apiid:"e",vote:"ebook",postactive:"Comblog",datalook:s,datafav:n,datacom:o,add_array:function(t,e,i){for(var a=0;a<e.length;a++)if(t.id==e[a].id){var s={id:t.id,website:t.website,user:t.user,avatar:t.avatar,etime:t.etime,uid:t.uid,btime:t.btime,img:t.img,posts:t.posts,title:t.title,vs:t.vs};return i||e.push(s),e.splice(a,1),[e,!1]}return e.length>100&&e.splice(0,10),s={id:t.id,user:t.user,website:t.website,avatar:t.avatar,etime:t.etime,uid:t.uid,btime:t.btime,img:t.img,posts:t.posts,title:t.title,vs:t.vs},e.push(s),[e,!0]},add_fav:function(t){for(var e=0;e<n.length;e++)if(t.id==n[e].id)return n.splice(e,1),!1;n.length>100&&n.splice(0,10);var i={id:t.id,website:t.website,user:t.user,avatar:t.avatar,uid:t.uid,btime:t.btime,posts:t.posts,etime:t.etime,title:t.title,vs:t.vs};return n.push(i),!0}}}).call(e,i(1).default)},151:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=i(153),s=i.n(a),n=i(154),o=!1;var l=function(t){o||i(152)},r=i(0)(s.a,n.a,l,null,null);r.options.__file="..\\..\\..\\..\\用户目录\\我的文档\\HBuilderProjects\\ysv8\\components\\ysv8\\elist.vue",r.esModule&&Object.keys(r.esModule).some(function(t){return"default"!==t&&"__"!==t.substr(0,2)})&&console.error("named exports are not supported in *.vue files."),r.options.functional&&console.error("[vue-loader] elist.vue: functional components are not supported with templates, they should use render functions."),e.default=r.exports},152:function(t,e){},153:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=n(i(2)),s=n(i(3));function n(t){return t&&t.__esModule?t:{default:t}}e.default={props:{data:{type:Object,default:function(t){return{}}}},computed:{isImgRight:function(){return!!this.data.img},isImgLeft:function(){return!!this.data.vs},showImg:function(){return!(!this.data.vs&&!this.data.img)},bucketcdn:function(){return a.default.bucketcdn}},components:{uniIcon:s.default},methods:{autotext:function(t){return a.default.langfun(t)},timestr:function(t){return a.default.timeStamp2String(t)},bindClick:function(){this.$emit("click")}}}},154:function(t,e,i){"use strict";var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("view",[i("view",{staticClass:"list-cell",attrs:{"hover-class":"uni-list-cell-hover",eventid:"IH0-0"},on:{click:t.bindClick}},[t.data.title?i("view",{staticClass:"media-list"},[i("view",{class:[t.isImgRight?"media-image-right":"",t.isImgLeft?"media-image-left":""]},[i("rich-text",{class:["media-title",t.isImgRight||t.isImgLeft?"media-title2":""],attrs:{nodes:t.data.title,mpcomid:"9Y2-0"}}),t.data.img?i("image",{class:["image-list1",t.isImgRight||t.isImgLeft?"image-list2":""],attrs:{src:t.bucketcdn+t.data.img+"_180"}}):t._e(),t._l(t.data.image_list,function(e,a){return t.data.image_list?i("image",{key:a,staticClass:"image-list3",attrs:{src:e.url}}):t._e()})],2)]):t._e(),i("view",{staticClass:"media-foot"})])])};a._withStripped=!0;var s={render:a,staticRenderFns:[]};e.a=s},155:function(t,e,i){"use strict";var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("view",[!1===t.ebook?[i("view",{staticClass:"uni-padding-wrap"},[t.vs?[i("video",{staticClass:"w100",attrs:{id:"myVideo",src:t.bucketcdn+t.vs,autoplay:!0,controls:"",eventid:"9Rn-0"},on:{error:t.videoErrorCallback}}),i("vdown",{attrs:{data:t.thread,mask:t.mask,downactive:t.active,www:t.www,mpcomid:"m5c-0"}})]:t._e(),i("view",{staticClass:"uni-list"},[i("view",{staticClass:"uni-list-cell",attrs:{"hover-class":"uni-list-cell-hover"}},[i("view",{staticClass:"uni-media-list",attrs:{eventid:"ELx-1"},on:{tap:function(e){t.gonav2("s?fsize=u&fid="+t.thread.uid+"&website="+t.website)}}},[i("view",{staticClass:"uni-media-list-logo"},[t.thread.img?i("image",{attrs:{src:t.bucketcdn+t.thread.img+"_80"}}):t._e()]),i("view",{staticClass:"uni-media-list-body"},[i("view",{staticClass:"uni-media-list-text-top"},[t._v(t._s(t.thread.title))]),i("view",{staticClass:"uni-media-list-text-bottom uni-ellipsis"},[t._v(t._s(t.timestr(t.thread.atime)))])])])]),i("view",{staticClass:"article-content"},[t._v("\n\t\t\t\t"+t._s(t.thread.des)+"\n\t\t\t")])]),t.files?i("view",{staticClass:"article-files"},t._l(t.files,function(e,a){return i("block",{key:a},[i("filelist",{attrs:{data:e,mask:t.mask,mpcomid:"2HJ-2-"+a}})],1)})):t._e(),i("view",{staticClass:"uni-comment"},[i("view",[i("view",{staticClass:"list-view"},t._l(t.postlist,function(e,a){return i("block",{key:a},[i("mediaList",{attrs:{data:e,eventid:"fCm-2-"+a,mpcomid:"yDa-3-"+a},on:{close:function(e){t.close(t.index1,a)},click:function(i){t.goDetail(e.id)}}})],1)})),i("uni-load-more",{attrs:{loadingType:t.loadingType,contentText:t.contentText,mpcomid:"nGS-4"}})],1)])],2),i("postdiv",{attrs:{pid:t.pid,thread:t.thread,mask:t.mask,favstart:t.favstart,mpcomid:"2NU-5"}})]:[i("view",{staticClass:"h1 c"},[t._v(t._s(t.ebook.title))]),i("view",{staticClass:"article-content"},[i("wxParse",{attrs:{content:t.htmlString,mpcomid:"rSA-6"}})],1),i("view",{staticClass:"foot"},[i("view",{staticClass:"row c"},[i("view",{staticClass:"col"},[i("view",{staticClass:"col_4",attrs:{eventid:"oED-3"},on:{click:function(e){t.pre()}}},[t._v("上一页")]),i("view",{staticClass:"col_4",attrs:{eventid:"rKm-4"},on:{click:t.home}},[t._v("\n\t\t\t\t目录")]),i("view",{staticClass:"col_4",attrs:{eventid:"qIi-5"},on:{click:function(e){t.next()}}},[t._v("\n\t\t\t\t下一页\n\t\t\t")])])])])]],2)};a._withStripped=!0;var s={render:a,staticRenderFns:[]};e.a=s}},[146]);
//# sourceMappingURL=../../../.sourcemap/mp-weixin/pages/myweb/e.js.map